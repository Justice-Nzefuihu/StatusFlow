[supervisord]
nodaemon=true
user=root
logfile=/tmp/supervisord.log
logfile_maxbytes=0
logfile_backups=0

[program:xvfb]
command=/usr/bin/Xvfb :99 -screen 0 1280x720x24
autostart=true
autorestart=true
stdout_logfile=/dev/null
stderr_logfile=/dev/null

[program:celery_worker]
command=celery -A app.celery_app worker --loglevel=info
autostart=true
autorestart=true
stdout_logfile=/dev/null
stderr_logfile=/dev/null

[program:celery_beat]
command=celery -A app.celery_app beat --loglevel=info --schedule=/tmp/celerybeat-schedule
autostart=true
autorestart=true
stdout_logfile=/dev/null
stderr_logfile=/dev/null

[program:uvicorn]
command=uvicorn app.dummy:app --host 0.0.0.0 --port 8080
autostart=true
autorestart=true
stdout_logfile=/dev/null
stderr_logfile=/dev/null
